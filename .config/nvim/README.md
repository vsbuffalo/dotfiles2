# NeoVim Configuration

This Neovim configuration follows a modular structure inspired by ThePrimeagen's setup.

## Installation

    $ brew tap neovim/neovim
    $ brew install --HEAD neovim

We also need to install some Python components,

    $ pip install neovim

and Packer, e.g. with,

    $ sh bootloaders/packer.sh

Then in neovim, go to `.config/nvim/lua/vinceb/packer.lua` and do

     :so
     :PackerInstall
     :PackerSync

You may need to quit neovim, and do this once or twice, as some errors 
due to uninstalled packages may occur the first time. Also, if for some 
reason stuff isn't working, it's possible a `~/.config/` already existed,
preventing the `setup.sh` from linking the proper one in `dotfiles`.

### Updating

    $ brew update
    $ brew reinstall --HEAD neovim

### Lua Line and Fonts

You may need nerdfonts,

    $ brew install font-hack-nerd-font

and then if in iTerm2, go to Preferences (`⌘,`),
Profiles, Text, and choose `Hack nerd font`
from the drop down fonts menu. I'd also increase
the font size.

### VimTex

VimTex requires MacTex and Skim. Download
MacTeX from [their website](https://www.tug.org/mactex/mactex-download.html)
and install Skim with

    $ brew install --cask skim

or from their website.

## Neovim Key Mappings Cheatsheet

`<leader>` = Space

### File/Buffer Operations
- `<leader>w` - save file
- `<leader>q` - quit
- `<leader>x` - close window
- `<leader>bd` - close buffer (preserve window)
- `<leader>l` - vertical split
- `<C-j/k>` - previous/next buffer

### Navigation
- `<A-h/j/k/l>` - move between split windows
- `<C-d/u>` - scroll down/up (cursor stays centered)
- `<M-b/f>` - emacs-style back/forward in insert mode
- `<leader>pv` - open file explorer

### Text Manipulation
- `J/K` in visual - move text block down/up
- `J` in normal - join lines (cursor stays)
- `<leader><space>` - format paragraph
- `<leader>y` - copy to system clipboard
- `<leader>Y` - copy line to system clipboard
- `<Esc><BS>` - delete word (emacs-style)

### Config Shortcuts
- `<leader>se` - edit packer config
- `<leader>ss` - sync packer
- `<leader>re` - edit remaps
- `<leader>pe` - edit plugin configs
- `<leader>pp` - reload init.lua

### Misc
- `<leader>h` - clear search highlight
- `<leader>c` - cycle colorscheme
- `<leader>ce` - edit colors config
- `<leader><Esc>` - exit terminal mode

### Rust Specific
- `<C-d>` - insert debug print `{:?}`
- `<leader>gt` - go to tests
- `<leader>n` - add unwrap before semicolon

## Directory Structure

Here's how it's organized:

```
~/.config/nvim/
├── init.lua              # Main entry point for Neovim configuration
├── lua/vinceb/          # Core configuration modules
│   ├── init.lua         # Loads all modules in vinceb/
│   ├── packer.lua       # Plugin management with packer
│   ├── remap.lua        # Key mappings/remaps
│   ├── set.lua          # Global Neovim settings
│   └── filetypes.lua    # File-specific settings
├── after/plugin/        # Plugin-specific configurations
│   ├── colors.lua       # Color scheme settings
│   ├── copilot.lua      # GitHub Copilot setup
│   ├── lsp.lua          # Language Server Protocol settings
│   ├── telescope.lua    # Telescope (fuzzy finder) config
│   └── [other plugins]  # Other plugin-specific settings
└── plugin/
    └── packer_compiled.lua  # Auto-generated by packer
```

## Key Modules Explained

### Core Configuration (`lua/vinceb/`)
- `init.lua`: Entry point for all personal configs, requires other modules
- `packer.lua`: Plugin declarations and initial setup
- `remap.lua`: All custom keybindings and remaps
- `set.lua`: Vim/Neovim settings (line numbers, tabs, etc.)
- `filetypes.lua`: Language-specific settings

### Plugin Configurations (`after/plugin/`)
These files load *after* plugins are loaded, ensuring dependencies exist:
- `colors.lua`: Theme/colorscheme configuration
- `conform.lua`: Code formatting settings
- `copilot.lua`: GitHub Copilot AI settings
- `fugitive.lua`: Git integration settings
- `lsp.lua`: Language server configurations
- `telescope.lua`: Fuzzy finder settings
- `treesitter.lua`: Syntax highlighting config
- `vimtex.lua`: LaTeX support settings
- `yanky.lua`: Yank ring configuration

## Adding New Configuration

1. For new general settings: Add to `set.lua`
2. For new keymaps: Add to `remap.lua`
3. For new plugins: Add to `packer.lua`
4. For plugin-specific config: Create new file in `after/plugin/`

## Common Tasks

- Add a new plugin: Edit `lua/vinceb/packer.lua`
- Change a key mapping: Edit `lua/vinceb/remap.lua`
- Modify editor settings: Edit `lua/vinceb/set.lua`
- Configure a plugin: Edit/create file in `after/plugin/`

## Notes
- Plugin configurations go in `after/plugin/` to ensure they run after plugins are loaded
- Core settings go in `lua/vinceb/` for organization
- `packer_compiled.lua` is auto-generated - don't edit manually
